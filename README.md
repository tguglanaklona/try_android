FlappyBirdApp
=========

Тестовое задание: написать версию игры Flappy Bird:
Птичка летит вправо с постоянной скоростью и находясь под действием гравитации и отдельных импульсов вверх, которые происходят при касании экрана в любом месте. Физически птичка – это круг;
Ее полету препятствуют прямоугольные блоки разной высоты, торчащие из пола и потолка. Если птичка касается блока, пола или потолка – игра проиграна;
Задача – преодолеть максимальное число блоков, не коснувшись их.
Нефункциональные требования к игре:

Игра должна быть написана на языке С++ с отрисовкой при помощи OpenGL ES 2.0 или выше. Нам не важна красивая картинка, достаточно геометрических фигур из линий;
Игра может быть написана под iOS. В этом случае на Objective-C пишется минимально необходимая обвязка для работы с системой;
Игра может быть написана под Android использованием C++ NDK. В этом случае на Java пишется минимально необходимая обвязка для работы с системой;
Игра должна быть написана без применения каких-либо сторонних графических, физических или игровых движков и библиотек. Не нужно использовать вещи вроде Cocos2D, GLKit, SpriteKit, QT, GLUT, SDL, Box2d, BulletPhysics и т.д.
=========

Программа реализована под Android на языке C++ с использованием пакета NDK и минимальной обвязкой Java, разработана в среде Android Studio на Windows. Отрисовка происходит средствами OpenGL ES 2.0. По структуре описния объектов программная архитектура ближе к стандартному OpenGL ввиду отсутствия достаточного опыта как в OpenGL, так и в OpenGL ES. Здесь вполне возможна дальнейшая доработка с моей стороны, потребующая дополнительных часов.

Файлы geometry.h/.cpp содержат элементарные геометрические объекты и процедуру circRectIntersect(), реализующюю задачу пересечения/столкновения круга и прямоугольника. Процедура применима и в случае задания (вместо прямоугольника) произвольного многоугольника набором его сторон (Sides).

Файлы geometry_render.h/.cpp содержат классы, которые добавляют к геометрии объектов "круг" (FlappyCircle) и "прямоугольник" (BarrierRect) их отрисовку на экран при помощи OpenGL SE 2.0 (т.е. работу с шейдерами, glProgram и glDraw).

В файлах panorama.h/.cpp реализован класс-репозиторий объектов, выводимых на экран. В экземпляре класса Panorama хранятся и инициализируются, а также добавляются и удаляются (в случае торчащих блоков) объекты действия, происходящего на экране.

Масштабирование объектов реализовано в классе Scale в файлах scale.h/.cpp под горизонтальное расположение смартфона (ось "x" длиннее оси "y"). Здесь условные размеры объектов уже спроецированы на сетку [-1; M_X]x[-1; 1], а скорость объектов будет измеряться в данных единицах на один фрейм (по оси "y" сцены две единицы).

Контроль над объектами, включая движение, столкновения и последующие обращения к отрисовке, реализован методами класса SceneControl. Он присутствует в единственном экземпляре как глобальный объект (файл gl_code.cpp) и является наследником класса-репозитория Panorama. Файлы gl_draw.h/.cpp.

В файле gl_code.cpp содержится экспорт минимальной обвязки, отвечающей onSurfaceChanged, onDrawFrame и onTouchEvent. Вызов функции DrawGLScene() реализует основной контроль над экземпляром SceneControl на каждый фрейм или вызов renderFrame().

